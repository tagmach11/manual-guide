@use "./base.scss";

/* =========================
   Quartz 4 Custom SCSS (FINAL)
   ========================= */

/* 팔레트 & 공통 */
$bg: #ffffff;
$primary: #15354a;      // 남색 타이틀
$accent: #f5e3d8;       // 살구 포인트
$shadow: 0 10px 30px rgba(16, 24, 40, .08);

/* ===== 버튼 공통 ===== */
.btn {
  display: inline-block;
  padding: 12px 18px;
  border-radius: 14px;
  font-weight: 700;
  border: 2px solid currentColor;
  text-decoration: none;
  margin-right: 10px;
  transition: transform .12s ease, opacity .12s ease;
  &:hover { transform: translateY(-1px); }
  &.primary { background: $primary; color: #fff; border-color: transparent; }
}

/* ===== 히어로 콜아웃 (배너) ===== */
/* [!hero] 콜아웃 또는 <div class="callout" data-callout="hero">… */
.callout[data-callout="hero"] {
  border: none;
  background: linear-gradient(180deg, #fff 0%, #f6f7fb 100%);
  border-radius: 24px;
  padding: 28px;
  box-shadow: $shadow;
  position: relative;

  .callout-title { display: none; } /* [!hero] 제목줄 숨김 */

  .callout-content {
    display: grid;
    grid-template-columns: 1.1fr .9fr;
    gap: 24px;
    align-items: center;

    h1, h2 {
      color: $primary;
      margin: .1em 0 .3em;
      font-weight: 800;
    }
    p { margin: .3em 0 1em; opacity: .9; }

    .hero-img {
      width: 100%;
      height: auto;
      border-radius: 22px;
      box-shadow: $shadow;
      display: block;
    }
  }

  /* 살구색 배경 오브젝트 */
  &::after {
    content: "";
    position: absolute;
    right: 8%;
    top: 12%;
    width: 220px;
    height: 180px;
    background: $accent;
    border-radius: 42% 58% 40% 60% / 60% 40% 60% 40%;
    filter: blur(2px);
    opacity: .7;
    z-index: 0;
  }
}

/* ===== 페이지 상단에 배너 올리기 (해당 노트에만 적용) ===== */
/* 프런트매터에 cssclass: hero-first 추가 */
.hero-first {
  /* 페이지 타이틀/빵부스러기 숨김(있는 경우만) */
  .page-title, .article-title, header h1,
  .breadcrumb-container, nav.breadcrumbs, .article-metadata {
    display: none !important;
  }

  /* 문서 첫 요소가 hero일 때 상단 여백 제거 */
  .callout[data-callout="hero"]:first-of-type {
    margin-top: 0 !important;
  }

  /* 배너만 강조(여백/그림자는 위의 hero 규칙 사용) */
}

/* ===== 사이드바(Explorer) 은은한 터치만 ===== */
.explorer .item:hover,
.explorer .file:hover,
.explorer .node:hover {
  background: rgba(143,159,169,.08);
  border-radius: 8px;
}
.explorer .item.active,
.explorer .file.active {
  background: rgba(40,75,99,.12);
  font-weight: 700;
  border-radius: 8px;
}

/* ===== 대/중/소 노트별 이미지 통일(옵션) ===== */
/* 노트 프런트매터에 cssclass: menu-big / menu-mid / menu-small */
.menu-big   .markdown-preview-view img { width: 600px; height: auto; border-radius: 12px; object-fit: cover; }
.menu-mid   .markdown-preview-view img { width: 420px; height: auto; border-radius: 10px; object-fit: cover; }
.menu-small .markdown-preview-view img { width: 260px; height: auto; border-radius:  8px; object-fit: cover; }

/* ===== 반응형 ===== */
@media (max-width: 860px) {
  .callout[data-callout="hero"] {
    .callout-content { grid-template-columns: 1fr; gap: 18px; }
    &::after { right: 6%; top: 6%; width: 160px; height: 120px; }
  }
}
.toggle-btn {
  background: #f3f4f6; /* Tailwind gray-100 느낌 */
  border: 1px solid #d1d5db;
  border-radius: 6px;
  padding: 4px 10px;
  font-size: 0.9rem;
  cursor: pointer;
  margin-left: auto;   /* 오른쪽 정렬 */
  display: block;
  text-align: right;
}

.toggle-btn:hover {
  background: #e5e7eb;
}

.toggle-content {
  display: none;
  margin: 0.5rem 0;
  padding: 0.5rem 1rem;
  border-left: 3px solid #2563eb; /* Tailwind blue-600 */
  background: #f9fafb;
  border-radius: 4px;
}

.toggle-content.open {
  display: block;
}
